<div role="tabpanel" class="tab-pane" id="history" aria-labelledby="history-tab">
    <div class="data-tab">
        <a class="btn btn-default" href="#history1">历史工商信息</a>
        <a class="btn btn-default" href="#history2">历史对外投资</a>
        <a class="btn btn-default" href="#history3">历史股东</a>
        <a class="btn btn-default" href="#history4">历史失信查询</a>
        <a class="btn btn-default" href="#history5">历史被执行</a>
        <a class="btn btn-default" href="#history6">历史法院公告</a>
        <a class="btn btn-default" href="#history7">历史裁判文书</a>
        <a class="btn btn-default" href="#history8">历史开庭公告</a>
        <a class="btn btn-default" href="#history9">历史动产抵押</a>
        <a class="btn btn-default" href="#history10">历史股权出资</a>
        <a class="btn btn-default" href="#history11">历史行政处罚</a>
        <a class="btn btn-default" href="#history12">历史行政许可</a>
    </div>
    <div class="panel-qcc" id="history1">
        <div class="panel-qcc-heading">历史工商信息</div>
        <div class="panel-qcc-body" id="history1-body">
        </div>
    </div>

    <div class="panel-qcc" id="history2">
        <div class="panel-qcc-heading">历史对外投资</div>
        <div class="panel-qcc-body" id="history2-body">
        </div>
    </div>
    <div class="panel-qcc" id="history3">
        <div class="panel-qcc-heading">历史股东</div>
        <div class="panel-qcc-body" id="history3-body">
        </div>
    </div>
    <div class="panel-qcc" id="history4">
        <div class="panel-qcc-heading">历史失信查询</div>
        <div class="panel-qcc-body" id="history4-body">
        </div>
    </div>
    <div class="panel-qcc" id="history5">
        <div class="panel-qcc-heading">历史被执行</div>
        <div class="panel-qcc-body" id="history5-body">
        </div>
    </div>
    <div class="panel-qcc" id="history6">
        <div class="panel-qcc-heading">历史法院公告</div>
        <div class="panel-qcc-body" id="history6-body">
        </div>
    </div>
    <div class="panel-qcc" id="history7">
        <div class="panel-qcc-heading">历史裁判文书</div>
        <div class="panel-qcc-body" id="history7-body">
        </div>
    </div>
    <div class="panel-qcc" id="history8">
        <div class="panel-qcc-heading">历史开庭公告</div>
        <div class="panel-qcc-body" id="history8-body">
        </div>
    </div>
    <div class="panel-qcc" id="history9">
        <div class="panel-qcc-heading">历史动产抵押</div>
        <div class="panel-qcc-body" id="history9-body">
        </div>
    </div>
    <div class="panel-qcc" id="history10">
        <div class="panel-qcc-heading">历史股权出资</div>
        <div class="panel-qcc-body" id="history10-body">
        </div>
    </div>
    <div class="panel-qcc" id="history11">
        <div class="panel-qcc-heading">历史行政处罚（工商行政处罚）</div>
        <div class="panel-qcc-body" id="history11-body">
        </div>
    </div>
    <div class="panel-qcc" id="history11-1">
        <div class="panel-qcc-heading">历史行政处罚（信用中国行政处罚）</div>
        <div class="panel-qcc-body" id="history11-1-body">
        </div>
    </div>
    <div class="panel-qcc" id="history12">
        <div class="panel-qcc-heading">历史行政许可（工商行政许可）</div>
        <div class="panel-qcc-body" id="history12-body">
        </div>
    </div>
    <div class="panel-qcc" id="history12-1">
        <div class="panel-qcc-heading">历史行政许可（信用中国行政许可）</div>
        <div class="panel-qcc-body" id="history12-1-body">
        </div>
    </div>
</div>
<script src="/htmlsrc/qichacha/tmpl/eci/hiscominfo.js"></script>
<script>
    var keyWord = "深圳小桔科技有限公司";
    // 历史工商
    $.ajax({
        url: remoteApi.qccHistoryGetHistorytEci,
        data:{
            keyWord: keyWord
        },
        success:function (res) {
            if(res.success && res.data){
                $("#history1-body").html(
                    hiscominfoRender(res.data)
                )
            }
        }
    });
    // 历史对外投资
    laytableRender({
        id: "history2-body",
        autoShift: false,
        url: remoteApi.qccHistoryGetHistorytInvestment+"?keyWord="+keyWord,
        cols: [
            [
                {title:"变更日期",field:"ChangeDate", width:100},
                // {title:"公司KeyNo",field:"KeyNo"},
                {title:"公司名称",field:"CompanyName"},
                {title:"法人名称",field:"OperName"},
                {title:"注册资本",field:"RegistCapi"},
                {title:"公司类型",field:"EconKind"},
                {title:"状态",field:"Status"},
                {title:"出资比例",field:"FundedRatio"},
                {title:"投资日期",field:"StartDate"}
            ]
        ],
        onData:function (data) {
            if(data && data.total < 1){
                $("#history2").hide();
                $("a[href='#history2']").addClass("disabled");
            }
        }
    });
    // 历史失信
    laytableRender({
        id: "history4-body",
        autoShift: false,
        url: remoteApi.qccHistoryGetHistoryShiXin+"?keyWord="+keyWord,
        cols: [
            [
                // {title:"Id值",field:"Id"},
                {title:"其他有履行能力而拒不履行生效法律文书确定义务",field:"ActionRemark"},
                {title:"执行依据文号",field:"ExecuteNo"},
                {title:"被执行的履行情况",field:"ExecuteStatus"},
                {title:"做出执行依据单位",field:"ExecuteUnite"},
                {title:"生效法律文书确定的义务",field:"YiWu"},
                {title:"发布时间",field:"PublicDate"},
                {title:"案号",field:"CaseNo"},
                {title:"执行法院",field:"ExecuteGov"},
                {title:"执行依据文号",field:"Anno"},
                {title:"省份",field:"Province"},
                {title:"立案时间",field:"LiAnDate"},
                {title:"组织机构代码",field:"OrgNo"},
                {title:"组织类型",field:"OrgType"}, // ，1：自然人，2：企业，3：社会组织，空白：无法判定）
                {title:"组织类型名称",field:"OrgTypeName"},
                {title:"名称",field:"Name"}
            ]
        ]
    });
    // 历史被执行
    laytableRender({
        id: "history5-body",
        autoShift: false,
        url: remoteApi.qccHistoryGetHistoryZhiXing+"?keyWord="+keyWord,
        cols: [
            [
                {title:"标地",field:"BiaoDi"},
                {title:"案号",field:"CaseNo"},
                {title:"执行法院",field:"ExecuteGov"},
                {title:"执行依据文号",field:"Anno"},
                {title:"省份",field:"Province"},
                {title:"立案时间",field:"LiAnDate"},
                {title:"组织机构代码",field:"OrgNo"},
                {title:"组织类型",field:"OrgType"}, //，1：自然人，2：企业，3：社会组织，空白：无法判定）
                {title:"组织类型名称",field:"OrgTypeName"},
                {title:"名称",field:"Name", width: 180}
            ]
        ]
    });
    // 历史法院公告
    laytableRender({
        id: "history6-body",
        autoShift: false,
        url: remoteApi.qccHistoryGetHistorytCourtNotice+"?keyWord="+keyWord,
        cols: [
            [
                // {title:"Id值",field:"Id"},
                {title:"公告类型",field:"Category"},
                {title:"内容",field:"Content"},
                {title:"公告人",field:"Court"},
                {title:"当事人",field:"Party"},
                {title:"省份",field:"Province"},
                {title:"刊登版面",field:"PublishPage"},
                {title:"上传日期",field:"SubmitDate"},
                {title:"公示日期",field:"PublishDate"}
            ]
        ]
    });
    // 历史裁判文书
    laytableRender({
        id: "history7-body",
        autoShift: false,
        url: remoteApi.qccHistoryGetHistorytJudgement+"?keyWord="+keyWord,
        cols: [
            [
                // {title:"Id值",field:"Id"},
                {title:"执行法院",field:"Court"},
                {title:"案件名称",field:"CaseName"},
                {title:"发布时间",field:"SubmitDate"},
                {title:"案件编号",field:"CaseNo"},
                {title:"案件类型",field:"CaseType"},
                {title:"涉案人员角色",field:"CaseRole"},
                {title:"年份",field:"CourtYear"}
            ]
        ]
    });
    // 历史开庭公告
    laytableRender({
        id: "history8-body",
        autoShift: false,
        url: remoteApi.qccHistoryGetHistorytSessionNotice+"?keyWord="+keyWord,
        cols: [
            [
                // {title:"Id值",field:"Id"},
                {title:"案由",field:"CaseReason"},
                {title:"公诉人/原告/上诉人/申请人",field:"ProsecutorList"},
                {title:"被告人/被告/被上诉人/被申请人",field:"DefendantList"},
                {title:"执行法院",field:"Executegov"},
                {title:"案号",field:"CaseNo"},
                {title:"开庭日期",field:"LianDate"}
            ]
        ]
    });
    // 历史动产抵押
    laytableRender({
        id: "history9-body",
        autoShift: false,
        url: remoteApi.qccHistoryGetHistorytMPledge+"?keyWord="+keyWord,
        cols: [
            [
                {title:"登记编号",field:"RegisterNo"},
                {title:"登记日期",field:"RegisterDate"},
                {title:"登记机关",field:"RegisterOffice"},
                {title:"被担保债权数额",field:"DebtSecuredAmount"},
                {title:"状态",field:"Status"}
            ]
        ]
    });
    // 历史动产抵押
    laytableRender({
        id: "history10-body",
        autoShift: false,
        url: remoteApi.qccHistoryGetHistorytPledge+"?keyWord="+keyWord,
        cols: [
            [
                {title:"登记编号",field:"RegistNo"},
                {title:"出质人",field:"Pledgor"},
                {title:"质权人",field:"Pledgee"},
                {title:"出质股权数额",field:"PledgedAmount"},
                {title:"股权出质设立登记日期",field:"RegDate"},
                {title:"公布日期",field:"PublicDate"},
                {title:"状态",field:"Status"}
            ]
        ]
    });
    // 历史行政处罚
    $.ajax({
        url: remoteApi.qccHistoryGetHistorytAdminPenalty+"?keyWord="+keyWord,
        success:function (res) {
            if(res.success){
                var nonData1 = true;
                var nonData2 = true;
                if(res.data && res.data.EciList && res.data.EciList.length > 0){
                    nonData1 = false;
                    laytableRender({
                        page: false,
                        id: "history11-body",
                        elem: "#history11-body",
                        cols: [
                            [
                                {title:"文号",field:"DocNo"},
                                {title:"违法行为类型",field:"PenaltyType"},
                                {title:"处罚内容",field:"Content"},
                                {title:"决定日期",field:"PenaltyDate"},
                                {title:"作出行政公示日期",field:"PublicDate"},
                                {title:"决定机关",field:"OfficeName"}
                            ]
                        ],
                        data: res.data.EciList
                    });
                }else{
                   $("#history11").hide();
                }

                if(res.data && res.data.CreditChinaList && res.data.CreditChinaList.length > 0){
                    nonData2 = false;
                    laytableRender({
                        page: false,
                        id: "history11-1-body",
                        elem: "#history11-1-body",
                        cols: [
                            [
                                {title:"决定文书号",field:"CaseNo"},
                                {title:"处罚名称",field:"Name"},
                                {title:"决定时间",field:"LianDate"},
                                {title:"省份",field:"Province"},
                                {title:"公司",field:"OwnerName"},
                                {title:"案由",field:"CaseReason"}
                            ]
                        ],
                        data: res.data.CreditChinaList
                    })
                }else{
                    $("#history11-1").hide();
                }
                if(nonData1 && nonData2){
                    $("a[href='#history11']").addClass("disabled");
                }
            }
        }
    });

    $.ajax({
        url: remoteApi.qccHistoryGetHistorytAdminLicens+"?keyWord="+keyWord,
        success:function (res) {
            if(res.success){
                var nonData1 = true;
                var nonData2 = true;
                if(res.data && res.data.EciList && res.data.EciList.length > 0){
                    nonData1 = false;
                    laytableRender({
                        page: false,
                        id: "history12-body",
                        elem: "#history12-body",
                        cols: [
                            [
                                {title:"许可文件编号",field:"LicensDocNo"},
                                {title:"许可文件名称",field:"LicensDocName"},
                                {title:"许可机关",field:"LicensOffice"},
                                {title:"许可内容",field:"LicensContent"},
                                {title:"有效期自",field:"ValidityFrom"},
                                {title:"有效期至",field:"ValidityTo"}
                            ]
                        ],
                        data: res.data.EciList
                    });
                }else{
                    $("#history12").hide();
                }
                if(res.data && res.data.CreditChinaList && res.data.CreditChinaList.length > 0){
                    nonData2 = false;
                    laytableRender({
                        page: false,
                        id: "history12-1-body",
                        elem: "#history12-1-body",
                        cols: [
                            [
                                {title:"编号",field:"CaseNo"},
                                {title:"项目名称",field:"Name"},
                                {title:"决定日期",field:"LianDate"},
                                {title:"地域",field:"Province"},
                                {title:"公司",field:"OwnerName"}
                            ]
                        ],
                        data: res.data.CreditChinaList
                    })
                }else{
                    $("#history12-1").hide();
                }
                if(nonData1 && nonData2){
                    $("a[href='#history12']").addClass("disabled");
                }
            }
        }
    });

    // laytableRender({
    //     id: "history3-body",
    //     autoShift: false,
    //     url: remoteApi.qccHistoryGetHistorytInvestment,
    //     cols: [
    //         [
    //             { title:'客户号', field:'KeyNo'}
    //         ]
    //     ]
    // })

</script>